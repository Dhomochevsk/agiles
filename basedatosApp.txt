CREATE TABLE CLIENTES (
	CED_CLI varchar(10) PRIMARY KEY,
	NOM_CLI varchar(50) NOT NULL,
	APE_CLI varchar(50) NOT NULL,
	EMAIL_CLI varchar(50) NOT NULL,
	TEL_CLI varchar(10) NOT NULL,
	USE_CLI varchar(50) NOT NULL UNIQUE,
	PASS_CLI varchar(50) NOT NULL
);

INSERT INTO CLIENTES VALUES('1801','LUIS','SANCHEZ','san@mail.com','0987654321','san1','pass123');


CREATE TABLE EMPLEADOS (
	CED_EMP varchar(10) PRIMARY KEY,
	NOM_EMP varchar(50) NOT NULL,
	APE_EMP varchar(50) NOT NULL,
	PAIS_EMP varchar(50) NOT NULL,
	TEL_EMP varchar(50) NOT NULL,
	REF_EMP varchar(50),
	TEL_REF_EMP varchar(10),
	DIR_EMP varchar(50) NOT NULL,
	CIU_EMP varchar(50) NOT NULL,
	PASS_EMP varchar(50) NOT NULL,
	ESTU_EMP varchar(50) NOT NULL,
	USU_EMP varchar(50) NOT NULL UNIQUE
);


INSERT INTO EMPLEADOS VALUES('1802','JOSE','JOSE','ECUADOR','0997654321',NULL,NULL,'CALLE FALSA123','QUITO','4321','UNIVERSITARIOS','JOSE21');


CREATE TABLE VALORACIONES (
	ID_CON INT PRIMARY KEY,
	EMP_CED_CON varchar(10) NOT NULL REFERENCES EMPLEADOS(CED_EMP),
	CLI_CED_CON varchar(10) NOT NULL REFERENCES CLIENTES(CED_CLI),
	FEC_CON DATE NOT NULL,
	EST_CON BOOLEAN NOT NULL
);


CREATE TABLE EXPERIENCIA_LABORAL (
	ID_EXP INT PRIMARY KEY,
	EMP_EXP varchar(50) NOT NULL,
	CAR_EXP varchar(50) NOT NULL,
	CONT_EXP varchar(10) NOT NULL,
	DIR_EXP varchar(50) NOT NULL,
	TIE_EXP varchar(50) NOT NULL,
	CED_EMP_EXP varchar(10) NOT NULL REFERENCES EMPLEADOS(CED_EMP)
);

CREATE TABLE HABILIDADES (
	ID_HAB INT PRIMARY KEY,
	NOM_HAB varchar(50) NOT NULL,
	DES_HAB varchar(225) NOT NULL,
	CED_EMP_HAB varchar(10) NOT NULL REFERENCES EMPLEADOS(CED_EMP)
);


CREATE TABLE CONTRATACIONES (
	ID_CON INT PRIMARY KEY,
	CED_EMP_CON varchar(10) NOT NULL REFERENCES EMPLEADOS(CED_EMP),
	CED_CLI_CON varchar(10) NOT NULL REFERENCES CLIENTES(CED_CLI),
	FEC_CON DATE NOT NULL,
	EST_CON BOOLEAN
);

INSERT INTO CONTRATACIONES  VALUES(1,'1802','1234','2022-07-06',NULL);


CREATE TABLE CONTACTOS (
	ID_CONT INT  PRIMARY KEY,
	CED_EMP_CONT varchar(10) NOT NULL REFERENCES EMPLEADOS(CED_EMP),
	USE_CLI_CONT varchar(10) NOT NULL REFERENCES CLIENTES(USE_CLI),
	DES_CONT varchar(50)
);

INSERT INTO CONTACTOS VALUES('1','1802','san1','plomero');


SELECT MAX(ID_CONT) FROM CONTACTOS;


select *from CONTRATACIONES where CED_CLI_CON=(select CED_CLI from CLIENTES where USE_CLI='');







